# $Id: Makefile.in,v 1.1.1.1 2006/09/27 10:08:58 roman Exp $
# ===========================================================================
#
# Makefile for libchaos/servauth subdirectory
#
# relative directories
# ---------------------------------------------------------------------------
srcdir       = @srcdir@
top_srcdir   = @top_srcdir@
top_builddir = @top_builddir@
thisdir      = servauth/

VPATH        = $(srcdir)

# include global make configuration
# ---------------------------------------------------------------------------
include $(top_builddir)/config.mk

# configuration for this directory
# ---------------------------------------------------------------------------
PROGRAM = servauth
MODULES = auth \
          cache \
          commands \
          control \
          dns \
          proxy \
          query \
          servauth

SOURCES = $(MODULES:%=%.c)
HEADERS = $(MODULES:%=%.h)
OBJECTS = $(MODULES:%=%.o)
DEPS    = $(MODULES:%=%.d)

CONFIG_H_IN = $(top_srcdir)/config.h.in
CONFIG_H    = $(top_builddir)/config.h

# targets for this directory
# ---------------------------------------------------------------------------
all: Makefile $(PROGRAM)
install: install-exec

# dependencies
# ---------------------------------------------------------------------------
-include $(DEPS)

# install config
# ---------------------------------------------------------------------------
@WIN32_FALSE@libexec_EXEC += $(PROGRAM)
@WIN32_TRUE@bin_EXEC += $(PROGRAM)

$(PROGRAM): $(OBJECTS)

# build config
# ---------------------------------------------------------------------------
LIBS     += -L$(top_builddir)/src -lchaos
LIB      += $(SSL_LIBS)
CPPFLAGS += -DHAVE_CONFIG_H
INCLUDES += -I$(srcdir) \
            -I$(top_srcdir) \
            -I$(top_srcdir)/include \
            -I$(builddir) \
            -I$(top_builddir) \
            -I$(top_builddir)/include

# include global make targets
# ---------------------------------------------------------------------------
include $(top_builddir)/build.mk
